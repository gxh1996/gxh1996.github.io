window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({ballManager:[function(t,e,o){"use strict";cc._RF.push(e,"736a27TkPRJzrKBrkPJSdTz","ballManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/util"),a=t("../../common/eventManager"),c=t("../board/board_C"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ballPrefab=null,e.board=null,e.ballArray=[],e.speed=500,e}return n(e,t),e.prototype.onLoad=function(){this.ballPool=new cc.NodePool,this.initSubscribe(),this.initVariable()},e.prototype.initVariable=function(){this.speed=500},e.prototype.initSubscribe=function(){var t=this;a.default.addSubscribe(this,"deleteBall",function(e){t.destroyBall(e)}),a.default.addSubscribe(this,"prop:addCountOfBall",function(t){0!==this.ballArray.length&&this.board.isShooted()&&this.addAllCountOfBall(t)}),a.default.addSubscribe(this,"prop:addSpeedOfBall",function(t){this.speed+=t,this.updateSpeedOfAllBall()}),a.default.addSubscribe(this,"effectEnd:addSpeedOfBall",function(t){this.speed-=t,this.updateSpeedOfAllBall()}),a.default.addSubscribe(this,"prop:subSpeedOfBall",function(t){this.speed-=t,this.updateSpeedOfAllBall()}),a.default.addSubscribe(this,"effectEnd:subSpeedOfBall",function(t){this.speed+=t,this.updateSpeedOfAllBall()})},e.prototype.createBall=function(){var t=this.getBallFromPool(),e=t.getComponent("ball");return this.node.addChild(t),e.init(),this.ballArray.push(e),e},e.prototype.getBallFromPool=function(){if(this.ballPool.size()>0){var t=this.ballPool.get();return t.opacity=255,t}return cc.instantiate(this.ballPrefab)},e.prototype.setInitedLVOfBall=function(t){t.setLinearVelocity(cc.v2(0,this.speed))},e.prototype.getSpeed=function(){return this.speed},e.prototype.addAllCountOfBall=function(t){for(var e=this.ballArray.length,o=0;o<e;o++){var n=this.ballArray[o],r=this.createBall(),i=this.createBall(),a=n.node.getPosition();r.node.setPosition(a),i.node.setPosition(a);n.getDegree();r.setSpeed(this.speed,n.getDegree()+t),i.setSpeed(this.speed,n.getDegree()-t)}},e.prototype.destroyBall=function(t){a.default.deleteSubscribes(t),i.default.removeArrayItem(this.ballArray,t),this.putBallToPool(t.node),0===this.ballArray.length&&a.default.publishEvent("ballCountZero")},e.prototype.putBallToPool=function(t){this.ballPool.put(t)},e.prototype.clearAllBall=function(){for(;this.ballArray.length>0;){var t=this.ballArray.pop();a.default.deleteSubscribes(t),this.putBallToPool(t.node)}},e.prototype.updateSpeedOfAllBall=function(){for(var t=0,e=this.ballArray;t<e.length;t++)e[t].updateSpeed()},r([u({type:cc.Prefab})],e.prototype,"ballPrefab",void 0),r([u({type:c.default})],e.prototype,"board",void 0),e=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../common/eventManager":"eventManager","../../common/util":"util","../board/board_C":"board_C"}],ball:[function(t,e,o){"use strict";cc._RF.push(e,"2582f4Dh1VDfLrsMjSrfJOc","ball");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../scripts/common/eventManager"),a=t("../../../scripts/common/util"),c=t("../../../scripts/common/soundMgr"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.board=null,e.rigid=null,e.ballManager=null,e.needFollowBoard=!1,e.isGamePause=!1,e.offset=null,e.vInGamePause=null,e.thresholdOfChangeDir=10,e.degreeOfChange=25,e.width=null,e.fallSpeedOverWindow=300,e}return n(e,t),e.prototype.onLoad=function(){this.rigid=this.node.getComponent(cc.RigidBody),this.ballManager=this.node.parent.getComponent("ballManager"),this.width=cc.view.getVisibleSize().width},e.prototype.init=function(){this.initSubscribe(),this.initVariable()},e.prototype.initVariable=function(){this.needFollowBoard=!1,this.isGamePause=!1,this.rigid.linearVelocity=cc.v2(0,0)},e.prototype.initSubscribe=function(){i.default.addSubscribe(this,"gamePause",function(){this.vInGamePause=this.rigid.linearVelocity,this.rigid.linearVelocity=cc.v2(0,0),this.isGamePause=!0}),i.default.addSubscribe(this,"gameContinue",function(){this.rigid.linearVelocity=this.vInGamePause,this.isGamePause=!1})},e.prototype.onBeginContact=function(t,e,o){"FLOOR"!==o.node.group&&c.default.soundMgr.playEffect()},e.prototype.onEndContact=function(t,e,o){var n=o.node,r=n.group;if("BLOCK"===r){var a=n.getComponent("block");i.default.publishEvent("ballToBlock",a)}else"BOARD"===r&&this.setSpeed(this.ballManager.getSpeed())},e.prototype.followBoardMove=function(t,e){this.rigid.gravityScale=0,this.board=t,this.offset=e,this.needFollowBoard=!0},e.prototype.cancelFollowBoard=function(){this.rigid.gravityScale=1,this.needFollowBoard=!1},e.prototype.setLinearVelocity=function(t){this.rigid.linearVelocity=t},e.prototype.getDegree=function(){return a.default.getDegree(this.rigid.linearVelocity)},e.prototype.changeDegreeOfLV=function(t){var e=t/180*Math.PI,o=this.ballManager.getSpeed()*Math.cos(e),n=this.ballManager.getSpeed()*Math.sin(e);this.rigid.linearVelocity=cc.v2(o,n)},e.prototype.setSpeed=function(t,e){void 0===e&&(e=null),null===e&&(e=a.default.getDegree(this.rigid.linearVelocity));var o=e/180*Math.PI,n=t*Math.cos(o),r=t*Math.sin(o);this.rigid.linearVelocity=cc.v2(n,r)},e.prototype.updateSpeed=function(){this.setSpeed(this.ballManager.getSpeed())},e.prototype.destrySelf=function(){i.default.publishEvent("deleteBall",this)},e.prototype.update=function(t){if(!this.isGamePause)if(this.needFollowBoard){n=(n=this.board.parent.convertToWorldSpaceAR(this.board.getPosition())).add(this.offset);var e=this.node.parent.convertToNodeSpaceAR(n);this.node.setPosition(e)}else{var o=this.getDegree();o<=this.thresholdOfChangeDir&&o>=0||o<=360&&o>=360-this.thresholdOfChangeDir?this.changeDegreeOfLV(360-this.degreeOfChange):(o<=180-this.thresholdOfChangeDir&&o>=180||o>180&&o<=180+this.thresholdOfChangeDir)&&this.changeDegreeOfLV(180+this.degreeOfChange);var n;e=this.node.getPosition();((n=this.node.parent.convertToWorldSpaceAR(e)).x<=0||n.x>=this.width)&&(this.rigid.linearVelocity=cc.v2(0,-this.fallSpeedOverWindow)),(n.x+this.node.width/2<=0||n.x-this.node.width/2>=this.width)&&this.destrySelf()}},e.prototype.onDestroy=function(){i.default.deleteSubscribes(this)},e=r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../scripts/common/eventManager":"eventManager","../../../scripts/common/soundMgr":"soundMgr","../../../scripts/common/util":"util"}],blockManager:[function(t,e,o){"use strict";cc._RF.push(e,"a3ac7o9eMhJi5rU4Gvr7ZPI","blockManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/util"),a=t("../prop/propManager"),c=t("../../common/eventManager"),s=t("../../common/loadManager"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockImages=[],e.blockPrefab=null,e.propManager=null,e.intervalOfH=4,e.intervalOfV=4,e.initRow=4,e.initColumn=11,e.blockHeight=20,e.blockArray=[],e.blockPool=new cc.NodePool,e}return n(e,t),e.prototype.onLoad=function(){var t=this;c.default.addSubscribe(this,"adaptBlockRoot",function(e){var o=t.node.getComponent("widget");o.top=e,o.adaptAR(),t.buildBlockRoot()})},e.prototype.buildBlockRoot=function(){for(var t=s.default.loadManager.registerNoOfBuild(),e=0,o=0;o<this.initRow;o++)this.createRowBlock(e),e-=this.blockHeight+this.intervalOfV;s.default.loadManager.updateRateOfBuild(t,1)},e.prototype.createRowBlock=function(t){var e=0,o=(this.initColumn-1)/2,n=this.addBlock();n.setPosition(e,t);for(var r=0;r<o;r++)e+=n.width+this.intervalOfH,(n=this.addBlock()).setPosition(e,t),(n=this.addBlock()).setPosition(-e,t)},e.prototype.addBlock=function(){var t=this.getBlockFromPool();this.node.addChild(t);var e=t.getComponent("block");return this.blockArray.push(e),e.init(this.blockImages[i.default.getRandomNumber(0,2)]),t},e.prototype.getBlockFromPool=function(){if(this.blockPool.size()>0){var t=this.blockPool.get();return t.opacity=255,t}return cc.instantiate(this.blockPrefab)},e.prototype.putBlockIntoPool=function(t){this.blockPool.put(t)},e.prototype.moveDownAllBlock=function(){for(var t=0;t<this.blockArray.length;t++)this.blockArray[t].node.y-=this.blockHeight+this.intervalOfH;this.createRowBlock(0)},e.prototype.initBlockRoot=function(){for(;this.blockArray.length>0;)this.putBlockIntoPool(this.blockArray.pop().node);this.buildBlockRoot()},e.prototype.deleteBlock=function(t){if(t){var e=t.node.parent.convertToWorldSpaceAR(t.node.getPosition());i.default.removeArrayItem(this.blockArray,t),this.putBlockIntoPool(t.node),this.propManager.createPropInRandom(e)}else console.error("\u7816\u5757\u5f02\u5e38\uff01b:",t)},r([p([cc.SpriteFrame])],e.prototype,"blockImages",void 0),r([p(cc.Prefab)],e.prototype,"blockPrefab",void 0),r([p(a.default)],e.prototype,"propManager",void 0),e=r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../common/eventManager":"eventManager","../../common/loadManager":"loadManager","../../common/util":"util","../prop/propManager":"propManager"}],block:[function(t,e,o){"use strict";cc._RF.push(e,"e268cdiqPxLsIT0Dl5B6vbL","block");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e}return n(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)},e.prototype.init=function(t){this.sprite.spriteFrame=t},e=r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],board_C:[function(t,e,o){"use strict";cc._RF.push(e,"ce206OBwVdDrI4s9yIQ6KIH","board_C");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/util"),a=t("../../common/eventManager"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.board_V=null,e.board_M=null,e.ballManager=null,e.idleBall=null,e.collider=null,e.canvas=null,e.initPos=null,e.needShoot=!0,e}return n(e,t),e.prototype.onLoad=function(){this.board_V=this.node.getComponent("board_V"),this.board_M=this.node.getComponent("board_M"),this.ballManager=cc.find("Canvas/gameContext/ballRoot").getComponent("ballManager"),this.collider=this.node.getComponent(cc.PhysicsBoxCollider),this.canvas=cc.find("Canvas");var t=cc.view.getVisibleSize();this.initPos=cc.v2(0,-t.height/2+180)},e.prototype.start=function(){this.initBoard(),this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.needShoot&&(this.needShoot=!1,this.shootBall())},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.move,this),this.canvas.on(cc.Node.EventType.TOUCH_START,this.move,this),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this.move,this),a.default.addSubscribe(this,"createInitBall",function(){this.scheduleOnce(this.createInitBall,1.5)}),a.default.addSubscribe(this,"prop:addLengthOfBoard",function(t){this.changeWidth(this.node.width+t);var e=this.board_V.valueInMoveRange(cc.v2(this.node.x,0)).x;this.node.x=e}),a.default.addSubscribe(this,"effectEnd:addLengthOfBoard",function(t){this.changeWidth(this.node.width-t)}),a.default.addSubscribe(this,"prop:subLengthOfBoard",function(t){this.changeWidth(this.node.width-t)}),a.default.addSubscribe(this,"effectEnd:subLengthOfBoard",function(t){this.changeWidth(this.node.width+t);var e=this.board_V.valueInMoveRange(cc.v2(this.node.x,0)).x;this.node.x=e})},e.prototype.initBoard=function(){this.node.setPosition(this.initPos),this.createInitBall()},e.prototype.onBeginContact=function(t,e,o){var n=o.node,r=n.group;"PROP"===r?n.getComponent("prop").trigger():"BLOCK"==r&&a.default.publishEvent("gameEnd")},e.prototype.isShooted=function(){return!this.needShoot},e.prototype.createInitBall=function(){var t=this.ballManager.createBall();this.idleBall=t;var e=cc.v2(0,this.node.height/2+t.node.height/2+10),o=this.node.convertToWorldSpaceAR(e),n=t.node.parent.convertToNodeSpaceAR(o);return t.node.setPosition(n),t.followBoardMove(this.node,e),this.needShoot=!0,t},e.prototype.shootBall=function(){this.idleBall.cancelFollowBoard(),this.ballManager.setInitedLVOfBall(this.idleBall),this.idleBall=null},e.prototype.changeWidth=function(t){this.node.width=t,this.collider.size.width=t,this.collider.apply(),this.board_V.updateMoveRange()},e.prototype.move=function(t){var e=t.getLocation(),o=i.default.convertCameraToWorldPos(e);this.board_V.moveTo(o.x,this.board_M.moveSpeed)},e=r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../common/eventManager":"eventManager","../../common/util":"util"}],board_M:[function(t,e,o){"use strict";cc._RF.push(e,"476e7X3F41KX58wq1s4iYpB","board_M");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveSpeed=600,e}return n(e,t),e.prototype.start=function(){i.default.addSubscribe(this,"prop:addSpeedOfBoard",function(t){this.moveSpeed+=t}),i.default.addSubscribe(this,"effectEnd:addSpeedOfBoard",function(t){this.moveSpeed-=t})},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../common/eventManager":"eventManager"}],board_V:[function(t,e,o){"use strict";cc._RF.push(e,"331eb9G0yFMnq4SFF5BWMBK","board_V");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.legalMoveRange=null,e.rigid=null,e.moveData={isMove:!1,destinationX:0,direction:null},e.isGamePause=!1,e}return n(e,t),e.prototype.onLoad=function(){this.rigid=this.node.getComponent(cc.RigidBody),this.updateMoveRange()},e.prototype.start=function(){i.default.addSubscribe(this,"gamePause",function(){this.rigid.linearVelocity=cc.v2(0,0),this.isGamePause=!0}),i.default.addSubscribe(this,"gameContinue",function(){this.isGamePause=!1})},e.prototype.updateMoveRange=function(){var t=cc.view.getVisibleSize();this.legalMoveRange=t.width/2-this.node.width/2-3},e.prototype.moveTo=function(t,e){var o=this.node.parent.convertToNodeSpaceAR(cc.v2(t,0));o=this.valueInMoveRange(o);var n=this.node.getPosition().x;if(!(Math.abs(n-o.x)<5)){if(n<o.x)this.rigid.linearVelocity=cc.v2(e,0),this.moveData.direction=!0;else{if(!(n>o.x))return;this.rigid.linearVelocity=cc.v2(-e,0),this.moveData.direction=!1}this.moveData.isMove=!0,this.moveData.destinationX=o.x}},e.prototype.valueInMoveRange=function(t){return t.x<=this.legalMoveRange&&t.x>=-this.legalMoveRange?t:t.x>this.legalMoveRange?cc.v2(this.legalMoveRange,t.y):cc.v2(-this.legalMoveRange,t.y)},e.prototype.update=function(t){this.isGamePause||this.moveData.isMove&&(this.moveData.direction&&this.node.x>=this.moveData.destinationX||!this.moveData.direction&&this.node.x<=this.moveData.destinationX)&&(this.rigid.linearVelocity=cc.v2(0,0),this.moveData.isMove=!1)},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../common/eventManager":"eventManager"}],eventManager:[function(t,e,o){"use strict";cc._RF.push(e,"3008fwPTsJOG5k9shvYxA8r","eventManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){this.setSubscriber(t),this.setDealFunc(e)}return t.prototype.getSubscriber=function(){return this.subscriber},t.prototype.setSubscriber=function(t){this.subscriber=t},t.prototype.getDealFunc=function(){return this.dealFunc},t.prototype.setDealFunc=function(t){this.dealFunc=t},t.prototype.dealEvent=function(t){this.dealFunc.call(this.subscriber,t)},t}(),r=function(){function t(){}return t.init=function(){null===this.eventSubscribeList?(this.eventSubscribeList=[],this.eventsOfSubscriber=new Map):console.warn("\u91cd\u590d\u521d\u59cb\u5316\uff01")},t.publishEvent=function(t,e){void 0===e&&(e=null);var o=this.findEventSubscribes(t);if(null===o)return console.error("\u8fd8\u6ca1\u6709\u4eba\u76d1\u542c\u8be5\u4e8b\u4ef6"+t+",\u8bf7\u5904\u7406\uff01"),!1;for(var n=0;n<o.length;n++)o[n].dealEvent(e);return!0},t.addSubscribe=function(t,e,o){var r=new n(t,o),i=this.findEventSubscribes(e);if(null===i)(i=[]).push(r),this.eventSubscribeList.push([e,i]);else{if(this.isSubscribed(t,e))return cc.error("\u5df2\u8ba2\u9605\u8fc7\u4e8b\u4ef6"+e),!1;i.push(r)}return this.addSubscribEvents(t,e),!0},t.cancelSubscribe=function(t,e){var o=this.findEventSubscribes(e);if(null!==o)for(var n=0;n<o.length;n++)if(o[n].getSubscriber()===t)return o.splice(n,1),this.deleteSubscribEvents(t,e),!0;return console.error("\u53d6\u6d88\u8ba2\u9605\u5931\u8d25\uff01\u6ca1\u6709\u8ba2\u9605\u8be5\u4e8b\u4ef6"),!1},t.deleteSubscribes=function(t){var e=this.eventsOfSubscriber.get(t);if(void 0!==e)for(;e.length>0;)this.cancelSubscribe(t,e[0]);else console.error("\u8be5\u8ba2\u9605\u8005\u6ca1\u6709\u8ba2\u9605\u4efb\u4f55\u4e8b\u4ef6")},t.clearSubscribe=function(){this.eventSubscribeList=[],this.eventsOfSubscriber.clear()},t.findEventSubscribes=function(t){for(var e=null,o=0;o<this.eventSubscribeList.length;o++){var n=this.eventSubscribeList[o];if(n[0]===t){e=n[1];break}}return e},t.isSubscribed=function(t,e){var o=!1,n=this.eventsOfSubscriber.get(t);if(void 0!==n)for(var r=0;r<n.length;r++)if(n[r]===e){o=!0;break}return o},t.addSubscribEvents=function(t,e){var o=this.eventsOfSubscriber.get(t);if(void 0===o)(o=[]).push(e),this.eventsOfSubscriber.set(t,o);else{if(-1!==o.indexOf(e))return console.error("\u91cd\u590d\u8ba2\u9605\u4e8b\u4ef6"),!1;o.push(e)}return!0},t.deleteSubscribEvents=function(t,e){var o=this.eventsOfSubscriber.get(t);if(void 0!==o){for(var n=0;n<o.length;n++)if(o[n]===e)return void o.splice(n,1);console.error("\u5220\u9664\u6ca1\u6709\u8ba2\u9605\u7684\u4e8b\u4ef6")}else console.error("\u6ca1\u6709\u8ba2\u9605\u4efb\u52a1\u4e8b\u4ef6\uff0c\u8ba2\u9605\u8005\uff1a",t)},t.eventSubscribeList=null,t.eventsOfSubscriber=null,t}();o.default=r,cc._RF.pop()},{}],floor:[function(t,e,o){"use strict";cc._RF.push(e,"aecd2SwSUdMVKeIo+Up+oA3","floor");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,o){var n=o.node,r=n.group;if("BALL"===r)n.getComponent("ball").destrySelf();else if("PROP"===r){n.getComponent("prop").destroySelf()}else"BLOCK"===r&&i.default.publishEvent("gameEnd")},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../common/eventManager":"eventManager"}],gameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"e105bJ4+3ZDz4w6pTrln3KD","gameLogic");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=t("../block/blockManager"),c=t("../UI/panelManager_LS"),s=t("../../common/loadManager"),l=t("../../../res/prefabs/loadProgress/loadProgress"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateBar=null,e.panelManager=null,e.loadProgress=null,e.blockManager=null,e.board=null,e.ballManager=null,e.propManager=null,e.hp=3,e.score=0,e.blocksDownT=10,e.isGamePause=!1,e.cT=0,e}return n(e,t),e.prototype.onLoad=function(){this.loadProgress.node.active=!0,this.loadRes(),this.initVariable(),this.initSubscribe(),this.loadProgress.show(),this.loadProgress.setProgress(s.default.loadManager.getLoadedRate())},e.prototype.start=function(){this.buildScene()},e.prototype._start=function(){this.updatteStateBar()},e.prototype.loadRes=function(){},e.prototype.initVariable=function(){this.stateBar=cc.find("Canvas/UIRoot/stateBar").getComponent("stateBar"),this.panelManager=cc.find("Canvas/UIRoot/panels").getComponent("panelManager_LS"),this.board=cc.find("Canvas/gameContext/board").getComponent("board_C"),this.ballManager=cc.find("Canvas/gameContext/ballRoot").getComponent("ballManager"),this.propManager=cc.find("Canvas/gameContext/propRoot").getComponent("propManager")},e.prototype.initSubscribe=function(){var t=this;i.default.addSubscribe(this,"gameEnd",function(){t.gameEnd()}),i.default.addSubscribe(this,"gamePause",function(){t.isGamePause=!0}),i.default.addSubscribe(this,"gameContinue",function(){t.isGamePause=!1}),i.default.addSubscribe(this,"loadComplete",function(){var e=t;t._start(),t.loadProgress.setProgress(100),t.scheduleOnce(function(){e.loadProgress.hide()},.6)}),i.default.addSubscribe(this,"loadItem",function(){t.loadProgress.setProgress(s.default.loadManager.getLoadedRate())}),i.default.addSubscribe(this,"ballCountZero",function(){this.subHP(),this.hp>0?i.default.publishEvent("createInitBall"):this.gameEnd()}),i.default.addSubscribe(this,"ballToBlock",function(t){this.addScore(10),this.blockManager.deleteBlock(t)}),i.default.addSubscribe(this,"resetGame",function(){this.resetGame()}),i.default.addSubscribe(this,"exitGame",function(){this.exitGame()}),i.default.addSubscribe(this,"prop:addBall",this.addHP)},e.prototype.buildScene=function(){},e.prototype.subHP=function(){this.hp--,this.stateBar.updateHPLabel(this.hp)},e.prototype.addHP=function(){this.hp++,this.stateBar.updateHPLabel(this.hp)},e.prototype.addScore=function(t){this.score+=t,this.stateBar.updateScoreLabel(this.score)},e.prototype.updatteStateBar=function(){this.stateBar.updateHPLabel(this.hp),this.stateBar.updateScoreLabel(this.score)},e.prototype.resetGame=function(){this.hp=3,this.score=0,this.updatteStateBar(),this.isGamePause=!1,this.cT=0,this.ballManager.clearAllBall(),this.ballManager.initVariable(),this.blockManager.initBlockRoot(),this.board.initBoard(),this.propManager.clearAllProp(),this.panelManager.hiddenGameEnd(),this.panelManager.hiddenSetPanel()},e.prototype.exitGame=function(){s.default.loadManager.loadScene("indexScene",function(){})},e.prototype.gameEnd=function(){this.panelManager.showGameEnd(this.score)},e.prototype.update=function(t){this.isGamePause||(this.cT+=t,this.cT>=this.blocksDownT&&(this.cT=0,this.blockManager.moveDownAllBlock()))},e.prototype.onDestroy=function(){i.default.clearSubscribe()},r([f({type:c.default})],e.prototype,"panelManager",void 0),r([f({type:l.default})],e.prototype,"loadProgress",void 0),r([f(a.default)],e.prototype,"blockManager",void 0),e=r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../res/prefabs/loadProgress/loadProgress":"loadProgress","../../common/eventManager":"eventManager","../../common/loadManager":"loadManager","../UI/panelManager_LS":"panelManager_LS","../block/blockManager":"blockManager"}],game:[function(t,e,o){"use strict";cc._RF.push(e,"81e2fn8ZopAzZ0a9j0uXEzA","game");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../common/globalScript"),a=t("../common/eventManager"),c=t("../common/loadManager"),s=t("../common/soundMgr"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){i.default.isInitModuleOfGame||(console.log("\u5f00\u59cb\u521d\u59cb\u5316\u6e38\u620f\u7cfb\u7edf\u6a21\u5757..."),a.default.init(),c.default.init(),s.default.init("sounds/bgm","sounds/collision"),i.default.isInitModuleOfGame=!0,console.log("\u6e38\u620f\u7cfb\u7edf\u6a21\u5757\u521d\u59cb\u5316\u6210\u529f\uff01"))},e=r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../common/eventManager":"eventManager","../common/globalScript":"globalScript","../common/loadManager":"loadManager","../common/soundMgr":"soundMgr"}],globalScript:[function(t,e,o){"use strict";cc._RF.push(e,"cc498XMpNtDp6FQETuuz44l","globalScript");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.isInitModuleOfGame=!1,e.userNick=null,e.imgTexture=null,e=r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],indexScene:[function(t,e,o){"use strict";cc._RF.push(e,"ca7ddMkYTNLPo6+3oKnMNaE","indexScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../common/eventManager"),a=t("../common/loadManager"),c=t("../../res/prefabs/loadProgress/loadProgress"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.loadProgress=null,e}return n(e,t),e.prototype.onLoad=function(){this.initSubscribe()},e.prototype.initSubscribe=function(){var t=this;i.default.addSubscribe(this,"loadItem",function(){t.loadProgress.setProgress(a.default.loadManager.getLoadedRate())})},e.prototype.startGame=function(){this.loadProgress.show(),a.default.loadManager.setLoadState(!0,!0,!0),a.default.loadManager.loadScene("levelScene")},e.prototype.onDestroy=function(){i.default.clearSubscribe()},r([u({type:cc.Node,tooltip:"\u6ca1\u6709\u767b\u5f55\u524d\u7684\u5168\u5c4fmask"})],e.prototype,"mask",void 0),r([u({type:c.default})],e.prototype,"loadProgress",void 0),e=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../res/prefabs/loadProgress/loadProgress":"loadProgress","../common/eventManager":"eventManager","../common/loadManager":"loadManager"}],jsonData:[function(t,e,o){"use strict";cc._RF.push(e,"a9a76ZIdANIMqHogsKXza4+","jsonData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.json=null,null!==t?this.json=t.json:cc.error("[ERROR] json\u4e3anull!")}return t.prototype.get=function(t,e){var o=this.getObject(t,e);return null===o?(cc.error("[ERROR] \u6ca1\u6709\u5bf9\u8c61\u7684\u5b57\u6bb5"+t+"\u7684\u503c\u662f"+e),null):o},t.prototype.getObject=function(t,e){for(var o,n=null,r=0,i=this.json;r<i.length;r++)if((o=i[r])[t]===e){n=o;break}return n},t}();o.default=n,cc._RF.pop()},{}],loadManager:[function(t,e,o){"use strict";cc._RF.push(e,"dbd0eozModEpI5u9dej4Pfr","loadManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./eventManager"),r=function(){function t(t,e){void 0===e&&(e=null),this.rateOfLoadList=[],this.totalCountOfLoad=0,this.completedCount=0,this.index=t,this.completeCallback=e}return t.prototype.loadRes=function(t,e,o){void 0===o&&(o=null);var n=this,r=this.rateOfLoadList.length;this.rateOfLoadList.push(0),this.totalCountOfLoad++,cc.loader.loadRes(t,e,function(t,e){t?console.error(t):(null!==o&&o(e),n.rateOfLoadList[r]=1,n.completedCount++,n.checkComplete())})},t.prototype.loadResDir=function(t,e,o){void 0===o&&(o=null);var n=this,r=this.rateOfLoadList.length;this.rateOfLoadList.push(0),this.totalCountOfLoad++,cc.loader.loadResDir(t,e,function(t,e,o){n.rateOfLoadList[r]=0===e?0:t/e,n.checkComplete()},function(t,e){t?console.error(t):(null!==o&&o(e),n.rateOfLoadList[r]=1,n.completedCount++)})},t.prototype.getLoadedRate=function(){if(this.totalCountOfLoad===this.completedCount)return 0===this.totalCountOfLoad?-1:1;for(var t=0,e=0;e<this.rateOfLoadList.length;e++)t+=this.rateOfLoadList[e];return t/this.totalCountOfLoad},t.prototype.checkComplete=function(){n.default.publishEvent("loadItem"),null!==this.completeCallback&&this.completedCount===this.totalCountOfLoad&&this.completeCallback(),i.loadManager._checkComplete()},t}();o.LoadedTask=r;var i=function(){function t(){}return t.init=function(){null===this.loadManager?(this.loadManager=new t,this.loadManager.initRecord()):console.warn("\u91cd\u590d\u5b9e\u4f8b\u5316\uff01")},t.prototype.setCompleteCallback=function(t){this.func=t},t.prototype.setLoadState=function(t,e,o){this.isLoadRes=t,this.isLoadScene=e,this.isBuild=o},t.prototype.getTask=function(t){void 0===t&&(t=null);var e=new r(this.taskArray.length,t);return this.taskArray.push(e),e},t.prototype.loadScene=function(t,e){void 0===e&&(e=null);var o=this;cc.director.preloadScene(t,function(t,e,n){o.rateOfLoadScene=0===e?0:t/e,o._checkComplete()},function(n,r){cc.director.loadScene(t,e),o._checkComplete()})},t.prototype.registerNoOfBuild=function(){var t=this.rateOfBuild.length;return this.rateOfBuild.push(0),t},t.prototype.updateRateOfBuild=function(t,e){this.rateOfBuild[t]=e,this._checkComplete()},t.prototype.getLoadedRate=function(){if(!this.isLoadScene&&!this.isLoadRes&&!this.isBuild)return 100;var t=1,e=1,o=1;if(this.isLoadScene&&(t=this.rateOfLoadScene),this.isLoadRes&&(e=0,0!==this.taskArray.length)){for(var n=0;n<this.taskArray.length;n++)e+=this.taskArray[n].getLoadedRate();e/=this.taskArray.length}if(this.isBuild&&(o=0,0!==this.rateOfBuild.length)){for(n=0;n<this.rateOfBuild.length;n++)o+=this.rateOfBuild[n];o/=this.rateOfBuild.length}return Math.round(100*(.3*t+.4*e+.3*o))},t.prototype.initRecord=function(){this.taskArray=[],this.isLoadRes=!1,this.rateOfLoadScene=0,this.isLoadScene=!1,this.rateOfBuild=[],this.isBuild=!1,this.func=null},t.prototype._checkComplete=function(){100===this.getLoadedRate()&&(null!==this.func&&this.func(),n.default.publishEvent("loadComplete"),this.initRecord()),n.default.publishEvent("loadItem")},t.loadManager=null,t}();o.default=i,cc._RF.pop()},{"./eventManager":"eventManager"}],loadProgress:[function(t,e,o){"use strict";cc._RF.push(e,"26b51toL11Pi793quHf37JA","loadProgress");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progress=null,e}return n(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.setProgress=function(t){this.progress.progress=t/100},r([c({type:cc.ProgressBar})],e.prototype,"progress",void 0),e=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],openPhysicsEngine:[function(t,e,o){"use strict";cc._RF.push(e,"27ab6cI5RZJLY+pLC6spkss","openPhysicsEngine");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDebug=!1,e.gravity=new cc.Vec2(0,0),e}return n(e,t),e.prototype.onLoad=function(){if(cc.director.getPhysicsManager().enabled=!0,this.isDebug){var t=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=t.e_jointBit|t.e_shapeBit|t.e_centerOfMassBit}else cc.director.getPhysicsManager().debugDrawFlags=0;cc.director.getPhysicsManager().gravity=this.gravity},r([c({})],e.prototype,"isDebug",void 0),r([c({})],e.prototype,"gravity",void 0),e=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],panelManager_LS:[function(t,e,o){"use strict";cc._RF.push(e,"60829iZCnJMsIrIs8JxC5Xc","panelManager_LS");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=t("../../common/soundMgr"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameEnd=null,e.scoreInGameEnd=null,e.onBGM=null,e.offBGM=null,e.onEffect=null,e.offEffect=null,e.BGMSet=null,e.effectSet=null,e.isBGM=!0,e.isEffect=!0,e.setPanel=null,e}return n(e,t),e.prototype.onLoad=function(){this.setPanel=this.node.getChildByName("set")},e.prototype.showGameEnd=function(t){this.scoreInGameEnd.string=t.toString(),this.showPanel(this.gameEnd)},e.prototype.hiddenGameEnd=function(){this.hiddenPanel(this.gameEnd)},e.prototype.showSetPanel=function(){this.showPanel(this.setPanel)},e.prototype.hiddenSetPanel=function(){this.hiddenPanel(this.setPanel)},e.prototype.showPanel=function(t){if(!0!==t.active){t.opacity=0,t.active=!0;var e=cc.fadeIn(.3),o=cc.callFunc(function(){i.default.publishEvent("gamePause")},this),n=cc.sequence(e,o);t.runAction(n)}},e.prototype.hiddenPanel=function(t){if(!1!==t.active){var e=cc.fadeOut(.3),o=cc.callFunc(function(){i.default.publishEvent("gameContinue"),t.active=!1},this),n=cc.sequence(e,o);t.runAction(n)}},e.prototype.resetGame=function(){i.default.publishEvent("resetGame")},e.prototype.continueGame=function(){this.hiddenSetPanel()},e.prototype.exitGame=function(){i.default.publishEvent("exitGame")},e.prototype.clickBGMSet=function(){this.isBGM?(this.isBGM=!1,a.default.soundMgr.offBGM(),this.BGMSet.spriteFrame=this.offBGM):(this.isBGM=!0,a.default.soundMgr.onBGM(),this.BGMSet.spriteFrame=this.onBGM)},e.prototype.clickSoundEffectSet=function(){this.isEffect?(this.isEffect=!1,a.default.soundMgr.offEffect(),this.effectSet.spriteFrame=this.offEffect):(this.isEffect=!0,a.default.soundMgr.onEffect(),this.effectSet.spriteFrame=this.onEffect)},r([l(cc.Node)],e.prototype,"gameEnd",void 0),r([l({type:cc.Label})],e.prototype,"scoreInGameEnd",void 0),r([l(cc.SpriteFrame)],e.prototype,"onBGM",void 0),r([l(cc.SpriteFrame)],e.prototype,"offBGM",void 0),r([l(cc.SpriteFrame)],e.prototype,"onEffect",void 0),r([l(cc.SpriteFrame)],e.prototype,"offEffect",void 0),r([l(cc.Sprite)],e.prototype,"BGMSet",void 0),r([l(cc.Sprite)],e.prototype,"effectSet",void 0),e=r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../common/eventManager":"eventManager","../../common/soundMgr":"soundMgr"}],propManager:[function(t,e,o){"use strict";cc._RF.push(e,"d0ec3TyrP5B47MniIn1R6Xa","propManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=t("../../common/util"),c=t("../../common/jsonData"),s=t("../../common/loadManager"),l=cc._decorator,u=l.ccclass,p=(l.property,function(){function t(t,e,o){void 0===o&&(o=null),this.name=t,this.totalT=e,this.data=o,this.cT=0}return t.addEffectTimer=function(e,o,n,r){var a;if(void 0===r&&(r=null),n)a=new t(e,o,r),this.effectList.push(a),i.default.publishEvent("prop:"+e,r),i.default.publishEvent("updatePropDurationShow",[e,1]);else{if(this.effectList.length>0)for(var c=0,s=this.effectList;c<s.length;c++)if((a=s[c]).name===e)return void a.updateTotalT();a=new t(e,o,r),this.effectList.push(a),i.default.publishEvent("prop:"+e,r)}var l=this.exclusiveProp[e];this.clearEffect(l)},t.timing=function(t){if(0!==this.effectList.length)for(var e=this.effectList.length-1;e>=0;)this.effectList[e].timing(t)&&a.default.removeArrayItem(this.effectList,this.effectList[e]),e--},t.setExclusiveProp=function(t){this.exclusiveProp=t},t.clearAllEffect=function(){this.effectList=[]},t.clearEffect=function(t){for(var e=0;e<this.effectList.length;e++)this.effectList[e].name===t&&(this.deleteEffect(e),e--)},t.deleteEffect=function(t){var e=this.effectList[t];e.endEffect(),this.effectList.splice(t,1),i.default.publishEvent("updatePropDurationShow",[e.name,0])},t.prototype.timing=function(t){var e=!1;return this.cT+=t,this.cT>=this.totalT&&(this.endEffect(),e=!0),i.default.publishEvent("updatePropDurationShow",[this.name,(this.totalT-this.cT)/this.totalT]),e},t.prototype.endEffect=function(){null===this.data?i.default.publishEvent("effectEnd:"+this.name):i.default.publishEvent("effectEnd:"+this.name,this.data)},t.prototype.updateTotalT=function(){this.cT=0},t.effectList=[],t}()),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.propPrefabs={},e.fallSpeed=cc.v2(0,-100),e.propArray=null,e.isGamePause=!1,e}return n(e,t),e.prototype.onLoad=function(){this.propArray=[],this.loadRes(),this.initSubscribe()},e.prototype.loadRes=function(){var t=s.default.loadManager.getTask();t.loadResDir("propPrefabs",cc.Prefab,function(t){for(var e=0;e<t.length;e++)this.propPrefabs[t[e].name]=t[e]}.bind(this)),t.loadRes("json/effectDataOfProp",cc.JsonAsset,function(t){this.effectDataOfProp=new c.default(t)}.bind(this)),t.loadRes("json/exclusiveProp",cc.JsonAsset,function(t){p.setExclusiveProp(t.json)}.bind(this)),t.loadRes("json/createRateOfProp",cc.JsonAsset,function(t){this.propRate=t.json}.bind(this))},e.prototype.initSubscribe=function(){var t=this;i.default.addSubscribe(this,"deleteProp",function(e){t.deleteProp(e)}),i.default.addSubscribe(this,"triggerProp",function(e){t.triggerEffect(e)}),i.default.addSubscribe(this,"gamePause",function(){t.isGamePause=!0,t.pauseAllProp()}),i.default.addSubscribe(this,"gameContinue",function(){t.isGamePause=!1,t.continueAllProp()})},e.prototype.triggerEffect=function(t){var e=this.effectDataOfProp.get("propName",t);switch(t){case"addBall":i.default.publishEvent("prop:addBall");break;case"addCountOfBall":i.default.publishEvent("prop:addCountOfBall",e.degree);break;case"addLengthOfBoard":p.addEffectTimer(t,e.duration,e.isOver,e.addLength);break;case"addSpeedOfBall":case"addSpeedOfBoard":p.addEffectTimer(t,e.duration,e.isOver,e.addSpeed);break;case"subLengthOfBoard":p.addEffectTimer(t,e.duration,e.isOver,e.subLength);break;case"subSpeedOfBall":p.addEffectTimer(t,e.duration,e.isOver,e.subSpeed)}},e.prototype.createPropInRandom=function(t){var e=a.default.getRandomNumber(0,100);e>this.propRate.total||((e-=this.propRate.addBall)<=0?this.createProp("addBall",t):(e-=this.propRate.addCountOfBall)<=0?this.createProp("addCountOfBall",t):(e-=this.propRate.addLengthOfBoard)<=0?this.createProp("addLengthOfBoard",t):(e-=this.propRate.addSpeedOfBall)<=0?this.createProp("addSpeedOfBall",t):(e-=this.propRate.addSpeedOfBoard)<=0?this.createProp("addSpeedOfBoard",t):(e-=this.propRate.subLengthOfBoard)<=0?this.createProp("subLengthOfBoard",t):(e-=this.propRate.subSpeedOfBall)<=0?this.createProp("subSpeedOfBall",t):cc.error("[ERROR] r/this.propRate error!"))},e.prototype.createProp=function(t,e){void 0===this.propPrefabs[t]&&cc.error("[ERROR] \u6ca1\u6709\u9053\u5177"+t+"\u7684\u9884\u5236\u4f53!");var o=cc.instantiate(this.propPrefabs[t]);this.node.addChild(o);var n=o.getComponent("prop");this.propArray.push(n);var r=this.node.convertToNodeSpaceAR(e);n.init(r,t,this.fallSpeed)},e.prototype.deleteProp=function(t){a.default.removeArrayItem(this.propArray,t),t.node.destroy()},e.prototype.clearAllProp=function(){this.node.removeAllChildren(),this.propArray=[],p.clearAllEffect()},e.prototype.pauseAllProp=function(){for(var t=0,e=this.propArray;t<e.length;t++)e[t].setSpeed(cc.v2(0,0))},e.prototype.continueAllProp=function(){for(var t=0,e=this.propArray;t<e.length;t++)e[t].setSpeed(this.fallSpeed)},e.prototype.update=function(t){this.isGamePause||p.timing(t)},e=r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../common/eventManager":"eventManager","../../common/jsonData":"jsonData","../../common/loadManager":"loadManager","../../common/util":"util"}],prop:[function(t,e,o){"use strict";cc._RF.push(e,"ff3aa+N5/FMpLDGpuHGcp2h","prop");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rigid=null,e.propName=null,e}return n(e,t),e.prototype.onLoad=function(){this.rigid=this.node.getComponent(cc.RigidBody)},e.prototype.init=function(t,e,o){this.node.setPosition(t),this.rigid.linearVelocity=o,this.propName=e},e.prototype.setSpeed=function(t){this.rigid.linearVelocity=t},e.prototype.trigger=function(){i.default.publishEvent("triggerProp",this.propName),this.destroySelf()},e.prototype.destroySelf=function(){i.default.publishEvent("deleteProp",this)},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../common/eventManager":"eventManager"}],showStateDuration:[function(t,e,o){"use strict";cc._RF.push(e,"e7a06agkzJLBZ1liyrgo6bA","showStateDuration");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e}return n(e,t),e.prototype.onLoad=function(){this.bar=this.node.getChildByName("bar").getComponent(cc.Sprite)},e.prototype.setDuration=function(t){this.bar.fillRange=1-t},e=r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],soundMgr:[function(t,e,o){"use strict";cc._RF.push(e,"3d824lNt/xOA4H6unITcN0B","soundMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){this.BGMSwitch=null,this.effectSwitch=null,this.BGMSwitch=!0,this.effectSwitch=!0,cc.loader.loadRes(t,cc.AudioClip,function(t,e){this.bgm=e,this.onBGM()}.bind(this)),cc.loader.loadRes(e,cc.AudioClip,function(t,e){this.effect=e}.bind(this))}return t.init=function(e,o){t.soundMgr=new t(e,o)},t.prototype.onBGM=function(){cc.audioEngine.playMusic(this.bgm,!0)},t.prototype.offBGM=function(){cc.audioEngine.stopMusic()},t.prototype.onEffect=function(){this.effectSwitch=!0},t.prototype.offEffect=function(){this.effectSwitch=!1},t.prototype.playEffect=function(){this.effectSwitch&&cc.audioEngine.playEffect(this.effect,!1)},t.soundMgr=null,t}();o.default=n,cc._RF.pop()},{}],stateBar:[function(t,e,o){"use strict";cc._RF.push(e,"419e19LjkNFDo4atrrNYCl1","stateBar");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./panelManager_LS"),a=t("../../common/eventManager"),c=t("../../common/loadManager"),s=t("../../common/widget"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HPLabel=null,e.scoreLabel=null,e.panelManager=null,e.propState=null,e.setBut=null,e.propStates=new Map,e}return n(e,t),e.prototype.onLoad=function(){this.initSubscribe()},e.prototype.start=function(){this.buildScene()},e.prototype.initSubscribe=function(){a.default.addSubscribe(this,"updatePropDurationShow",function(t){var e=t[0],o=t[1],n=this.propStates.get(e);void 0!==n?n.setDuration(o):cc.error("[ERROR] "+e+"\u4e0d\u5728Map\u91cc")})},e.prototype.buildScene=function(){for(var t=c.default.loadManager.registerNoOfBuild(),e=null,o=0,n=this.propState.children;o<n.length;o++)e=n[o],this.propStates.set(e.name,e.getComponent("showStateDuration"));this.adaptStateBar();var r=this.node.getPosition().y,i=this.node.parent.convertToWorldSpaceAR(cc.v2(0,r-this.node.height)).y;a.default.publishEvent("adaptBlockRoot",cc.view.getVisibleSize().height-i),c.default.loadManager.updateRateOfBuild(t,1)},e.prototype.updateHPLabel=function(t){this.HPLabel.string=t.toString()},e.prototype.updateScoreLabel=function(t){this.scoreLabel.string=t.toString()},e.prototype.set=function(){this.panelManager.showSetPanel()},e.prototype.adaptStateBar=function(){if("undefined"==typeof wx){var t=cc.view.getVisibleSize().height-this.node.height/2,e=this.node.parent.convertToNodeSpaceAR(cc.v2(0,t)).y+this.node.height/2;this.node.y=e,a.default.publishEvent("topWallAdapt",this.node.height),this.setBut.top=8,this.setBut.adaptAR()}else{var o=wx.getMenuButtonBoundingClientRect();console.log("menu",o);var n=o.top*cc.view.getScaleY();t=cc.view.getVisibleSize().height-n-this.node.height/2,e=this.node.parent.convertToNodeSpaceAR(cc.v2(0,t)).y+this.node.height/2;this.node.y=e,a.default.publishEvent("topWallAdapt",n+this.node.height);var r=o.bottom*cc.view.getScaleY();this.setBut.top=r,this.setBut.adaptAR()}},r([p({type:cc.Label})],e.prototype,"HPLabel",void 0),r([p({type:cc.Label})],e.prototype,"scoreLabel",void 0),r([p({type:i.default})],e.prototype,"panelManager",void 0),r([p({type:cc.Node})],e.prototype,"propState",void 0),r([p({type:s.default})],e.prototype,"setBut",void 0),e=r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../common/eventManager":"eventManager","../../common/loadManager":"loadManager","../../common/widget":"widget","./panelManager_LS":"panelManager_LS"}],topWall:[function(t,e,o){"use strict";cc._RF.push(e,"3ecc9V+1kZG6Y2jctRKgrmK","topWall");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../common/eventManager"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.widget=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.widget=this.node.getComponent("widget"),i.default.addSubscribe(this,"topWallAdapt",function(e){t.widget.top=e,t.widget.adaptAR()})},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../common/eventManager":"eventManager"}],util:[function(t,e,o){"use strict";cc._RF.push(e,"411fcHJxi9Jx4lRENgR++RE","util"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.convertCameraToWorldPos=function(t){var e;return e=cc.find("Canvas/Main Camera").getComponent(cc.Camera).getCameraToWorldPoint(t,e)},t.removeArrayItem=function(t,e){var o=t.indexOf(e);return!(o<0)&&(t.splice(o,1),!0)},t.getDegree=function(t){var e;return 0===t.x&&0===t.y?null:0===t.x&&t.y>0?90:0===t.x&&t.y<0?270:(0===(e=180*Math.atan(t.y/t.x)/Math.PI)?e=t.x>0?0:180:t.x<0&&t.y>0||t.x<0&&t.y<0?e+=180:t.x>0&&t.y<0&&(e+=360),e)},t.getRandomNumber=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},t}();o.default=n,cc._RF.pop()},{}],widget:[function(t,e,o){"use strict";cc._RF.push(e,"47d20fN2GdEAqqqqRKlLa/R","widget");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.top=null,e}return n(e,t),e.prototype.onLoad=function(){this.winSize=cc.view.getVisibleSize()},e.prototype.adaptAR=function(){if(null!==this.top){console.log(this.node.name),console.log("top",this.top);var t=this.winSize.height-this.top-this.node.height/2;console.log("wy",t);var e=this.node.parent.convertToNodeSpaceAR(cc.v2(0,t)).y;console.log("ny",e),this.node.y=e}else console.warn("top\u4e3anull")},e=r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["ball","block","loadProgress","eventManager","globalScript","jsonData","loadManager","soundMgr","util","widget","game","indexScene","panelManager_LS","stateBar","ballManager","blockManager","board_C","board_M","board_V","gameLogic","openPhysicsEngine","floor","topWall","prop","propManager","showStateDuration"]);